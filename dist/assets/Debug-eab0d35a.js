import{a as S,r as v,o as i,c as u,b as a,t as n,g as d,F as f,h as _,e as k,i as o}from"./index-d28b8463.js";const w={class:"p-8"},x={class:"mt-4 p-4 bg-gray-100 rounded"},C={class:"mt-6 space-y-4"},D={key:0,class:"space-y-2"},F={class:"font-medium"},T={class:"text-sm text-gray-600"},L={class:"text-xs bg-gray-100 p-2 mt-1 rounded overflow-auto"},I={__name:"Debug",setup(A){const c=S(),l=v([]),r=(e,t,s)=>{l.value.unshift({test:e,status:t,data:s,timestamp:new Date().toLocaleTimeString()})},m=async()=>{var e,t;try{const s=await o.get("/test/simple");r("Simple API","✅ Success",s.data)}catch(s){r("Simple API","❌ Failed",{message:s.message,status:(e=s.response)==null?void 0:e.status,data:(t=s.response)==null?void 0:t.data})}},p=async()=>{var e,t;try{const s=await o.get("/test/db");r("Database","✅ Success",s.data)}catch(s){r("Database","❌ Failed",{message:s.message,status:(e=s.response)==null?void 0:e.status,data:(t=s.response)==null?void 0:t.data})}},g=async()=>{var e,t;try{const s=await o.get("/health");r("Health","✅ Success",s.data)}catch(s){r("Health","❌ Failed",{message:s.message,status:(e=s.response)==null?void 0:e.status,data:(t=s.response)==null?void 0:t.data})}},y=async()=>{var e,t;try{const s=await o.post("/auth/login",{username:"admin",password:"admin123"});r("Login","✅ Success",s.data)}catch(s){r("Login","❌ Failed",{message:s.message,status:(e=s.response)==null?void 0:e.status,data:(t=s.response)==null?void 0:t.data})}},b=async()=>{var e,t;try{const s=await o.get("/surveys");r("Surveys","✅ Success",s.data)}catch(s){r("Surveys","❌ Failed",{message:s.message,status:(e=s.response)==null?void 0:e.status,data:(t=s.response)==null?void 0:t.data})}};return(e,t)=>(i(),u("div",w,[t[2]||(t[2]=a("h1",{class:"text-2xl font-bold text-blue-600"},"Debug Page",-1)),t[3]||(t[3]=a("p",{class:"text-gray-600 mt-2"},"If you can see this, Vue is working!",-1)),a("div",x,[t[0]||(t[0]=a("h2",{class:"font-semibold"},"Current State:",-1)),a("p",null,"Authenticated: "+n(d(c).isAuthenticated),1),a("p",null,"User: "+n(d(c).user?d(c).user.username:"None"),1),a("p",null,"Current Route: "+n(e.$route.path),1)]),a("div",C,[a("div",null,[a("button",{onClick:m,class:"btn-primary mr-2"}," Test Simple API "),a("button",{onClick:p,class:"btn-primary mr-2"}," Test Database "),a("button",{onClick:g,class:"btn-primary mr-2"}," Test Health "),a("button",{onClick:y,class:"btn-primary mr-2"}," Test Login "),a("button",{onClick:b,class:"btn-primary"}," Test Surveys ")]),l.value.length>0?(i(),u("div",D,[t[1]||(t[1]=a("h3",{class:"font-semibold"},"Test Results:",-1)),(i(!0),u(f,null,_(l.value,(s,h)=>(i(),u("div",{key:h,class:"p-3 rounded border"},[a("div",F,n(s.test),1),a("div",T,n(s.status),1),a("pre",L,n(JSON.stringify(s.data,null,2)),1)]))),128))])):k("",!0)])]))}};export{I as default};
