import{u as v,r as n,x as c,o as m,c as y,b as t,w as f,d as r,v as u,m as x,q as b,y as g,t as S,f as C,i as k}from"./index-b838ad82.js";const w={class:"card"},q={class:"space-y-6"},D={class:"grid grid-cols-1 gap-6"},V={class:"flex justify-end space-x-3"},B=["disabled"],I={__name:"CreateSurvey",setup(E){const d=v(),s=n({title:"",description:"",status:"0",questions:[{text:"",type:"text",required:!1,options:""}]}),o=n(!1),p=async()=>{o.value=!0;try{const a=s.value.questions.map(i=>({text:i.text,type:i.type,required:i.required,options:i.options?i.options.split(`
`).filter(l=>l.trim()):[]})),e={title:s.value.title,description:s.value.description,status:parseInt(s.value.status),questions:a};await k.post("/surveys/create",e),d.push("/surveys")}catch(a){console.error("Error creating survey:",a)}finally{o.value=!1}};return(a,e)=>{const i=c("router-link");return m(),y("div",null,[e[9]||(e[9]=t("div",{class:"mb-8"},[t("h1",{class:"text-2xl font-bold text-gray-900"},"Create Survey"),t("p",{class:"text-gray-600"},"Create a new survey questionnaire")],-1)),t("div",w,[t("form",{onSubmit:f(p,["prevent"])},[t("div",q,[t("div",null,[e[7]||(e[7]=t("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Basic Information",-1)),t("div",D,[t("div",null,[e[3]||(e[3]=t("label",{for:"title",class:"block text-sm font-medium text-gray-700"}," Survey Title ",-1)),r(t("input",{id:"title","onUpdate:modelValue":e[0]||(e[0]=l=>s.value.title=l),type:"text",required:"",class:"input-field",placeholder:"Enter survey title"},null,512),[[u,s.value.title]])]),t("div",null,[e[4]||(e[4]=t("label",{for:"description",class:"block text-sm font-medium text-gray-700"}," Description ",-1)),r(t("textarea",{id:"description","onUpdate:modelValue":e[1]||(e[1]=l=>s.value.description=l),rows:"3",class:"input-field",placeholder:"Enter survey description"},null,512),[[u,s.value.description]])]),t("div",null,[e[6]||(e[6]=t("label",{for:"status",class:"block text-sm font-medium text-gray-700"}," Status ",-1)),r(t("select",{id:"status","onUpdate:modelValue":e[2]||(e[2]=l=>s.value.status=l),class:"input-field"},e[5]||(e[5]=[t("option",{value:"0"},"Draft",-1),t("option",{value:"1"},"Active",-1),t("option",{value:"2"},"Inactive",-1)]),512),[[x,s.value.status]])])])]),t("div",V,[b(i,{to:"/surveys",class:"btn-secondary"},{default:g(()=>e[8]||(e[8]=[C(" Cancel ")])),_:1,__:[8]}),t("button",{type:"submit",disabled:o.value,class:"btn-primary"},S(o.value?"Creating...":"Create Survey"),9,B)])])],32)])])}}};export{I as default};
