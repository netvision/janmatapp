import{u as f,f as v,o as k,a as r,c as a,b as s,t as i,n as c,l as y,F as b,s as w}from"./vendor-740be9e2.js";import{u as _,a as h}from"./index-ace43089.js";import"./utils-917b1704.js";const M={class:"min-h-screen bg-gray-50"},S={class:"bg-white shadow-sm border-b border-gray-200"},C={class:"px-4 py-4"},j={class:"flex items-center justify-between"},B={class:"text-sm text-gray-600"},D={class:"px-4 py-6 space-y-6"},R={class:"grid grid-cols-2 gap-4"},T={class:"card p-4"},V={class:"flex items-center"},$={class:"ml-3"},z={class:"text-2xl font-bold text-gray-900"},A={class:"card p-4"},L={class:"flex items-center"},N={class:"ml-3"},q={class:"text-2xl font-bold text-gray-900"},E={class:"card p-4"},F={class:"space-y-3"},H={class:"card p-4"},I={key:0,class:"text-center py-8"},O={key:1,class:"text-center py-8"},P={key:2,class:"space-y-3"},Q=["onClick"],W={class:"flex items-center justify-between"},G={class:"font-medium text-gray-900"},J={class:"text-sm text-gray-600"},ss={__name:"Dashboard",setup(K){const l=f(),g=_(),u=v(!1),p=v([]),d=v({activeSurveys:0,responsesToday:0}),m=()=>{g.logout(),l.push("/login")},x=async()=>{u.value=!0;try{const e=await h.get("/surveys");e.data.success&&(p.value=e.data.data.slice(0,5),d.value.activeSurveys=e.data.data.length);const t=new Date().toISOString().split("T")[0],n=await h.get(`/responses?date_from=${t}`);n.data.success&&(d.value.responsesToday=n.data.data.length)}catch(e){console.error("Error fetching dashboard data:",e)}finally{u.value=!1}};return k(()=>{x()}),(e,t)=>{var n;return r(),a("div",M,[s("header",S,[s("div",C,[s("div",j,[s("div",null,[t[2]||(t[2]=s("h1",{class:"text-xl font-semibold text-gray-900"},"Dashboard",-1)),s("p",B,"Welcome back, "+i((n=c(g).user)==null?void 0:n.username),1)]),s("button",{onClick:m,class:"btn btn-secondary text-sm"}," Logout ")])])]),s("main",D,[s("div",R,[s("div",T,[s("div",V,[t[4]||(t[4]=s("div",{class:"p-2 bg-primary-100 rounded-lg"},[s("svg",{class:"h-6 w-6 text-primary-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})])],-1)),s("div",$,[t[3]||(t[3]=s("p",{class:"text-sm font-medium text-gray-600"},"Active Surveys",-1)),s("p",z,i(d.value.activeSurveys),1)])])]),s("div",A,[s("div",L,[t[6]||(t[6]=s("div",{class:"p-2 bg-success-100 rounded-lg"},[s("svg",{class:"h-6 w-6 text-success-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),s("div",N,[t[5]||(t[5]=s("p",{class:"text-sm font-medium text-gray-600"},"Responses Today",-1)),s("p",q,i(d.value.responsesToday),1)])])])]),s("div",E,[t[9]||(t[9]=s("h2",{class:"text-lg font-semibold text-gray-900 mb-4"},"Quick Actions",-1)),s("div",F,[s("button",{onClick:t[0]||(t[0]=o=>c(l).push("/surveys")),class:"w-full flex items-center justify-between p-3 bg-primary-50 hover:bg-primary-100 rounded-lg transition-colors"},t[7]||(t[7]=[y('<div class="flex items-center"><svg class="h-5 w-5 text-primary-600 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg><span class="font-medium text-gray-900">View Surveys</span></div><svg class="h-5 w-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg>',2)])),s("button",{onClick:t[1]||(t[1]=o=>c(l).push("/profile")),class:"w-full flex items-center justify-between p-3 bg-gray-50 hover:bg-gray-100 rounded-lg transition-colors"},t[8]||(t[8]=[y('<div class="flex items-center"><svg class="h-5 w-5 text-gray-600 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path></svg><span class="font-medium text-gray-900">Profile</span></div><svg class="h-5 w-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg>',2)]))])]),s("div",H,[t[13]||(t[13]=s("h2",{class:"text-lg font-semibold text-gray-900 mb-4"},"Recent Surveys",-1)),u.value?(r(),a("div",I,t[10]||(t[10]=[s("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600 mx-auto"},null,-1),s("p",{class:"mt-2 text-sm text-gray-600"},"Loading surveys...",-1)]))):p.value.length===0?(r(),a("div",O,t[11]||(t[11]=[s("p",{class:"text-gray-600"},"No surveys available",-1)]))):(r(),a("div",P,[(r(!0),a(b,null,w(p.value,o=>(r(),a("div",{key:o.id,onClick:U=>c(l).push(`/survey/${o.id}`),class:"p-3 bg-gray-50 hover:bg-gray-100 rounded-lg cursor-pointer transition-colors"},[s("div",W,[s("div",null,[s("h3",G,i(o.title),1),s("p",J,i(o.question_count)+" questions",1)]),t[12]||(t[12]=s("svg",{class:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1))])],8,Q))),128))]))])])])}}};export{ss as default};
