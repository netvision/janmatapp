import{u as v,f as u,o as x,a as n,c as l,b as e,l as w,w as f,m as c,v as m,n as i,t as y,p as b,q as h}from"./vendor-740be9e2.js";import{u as _}from"./index-ace43089.js";import"./utils-917b1704.js";const k={class:"min-h-screen flex items-center justify-center bg-gray-50 px-4"},S={class:"max-w-md w-full space-y-8"},V={class:"space-y-4"},A=["disabled"],B=["disabled"],C={key:0,class:"bg-red-50 border border-red-200 rounded-lg p-3"},M={class:"text-sm text-red-600"},j=["disabled"],z={key:0,class:"flex items-center justify-center"},L={key:1},D={__name:"Login",setup(N){const p=v(),o=_(),t=u({username:"",password:""}),a=u(""),g=async()=>{a.value="",console.log("Logging in with username:",t.value.username,"and password:",t.value.password);const r=await o.login(t.value.username,t.value.password);console.log("Login result:",r),r.success?p.push("/dashboard"):a.value=r.message};return x(()=>{o.initializeAuth()}),(r,s)=>(n(),l("div",k,[e("div",S,[s[5]||(s[5]=w('<div class="text-center"><div class="mx-auto h-16 w-16 bg-primary-600 rounded-full flex items-center justify-center"><svg class="h-8 w-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></div><h2 class="mt-6 text-3xl font-bold text-gray-900">Janmat Agent</h2><p class="mt-2 text-sm text-gray-600">Sign in to your account</p></div>',1)),e("form",{class:"mt-8 space-y-6",onSubmit:f(g,["prevent"])},[e("div",V,[e("div",null,[s[2]||(s[2]=e("label",{for:"username",class:"block text-sm font-medium text-gray-700 mb-1"}," Username ",-1)),c(e("input",{id:"username","onUpdate:modelValue":s[0]||(s[0]=d=>t.value.username=d),type:"text",required:"",class:"input",placeholder:"Enter your username",disabled:i(o).loading},null,8,A),[[m,t.value.username]])]),e("div",null,[s[3]||(s[3]=e("label",{for:"password",class:"block text-sm font-medium text-gray-700 mb-1"}," Password ",-1)),c(e("input",{id:"password","onUpdate:modelValue":s[1]||(s[1]=d=>t.value.password=d),type:"password",required:"",class:"input",placeholder:"Enter your password",disabled:i(o).loading},null,8,B),[[m,t.value.password]])])]),a.value?(n(),l("div",C,[e("p",M,y(a.value),1)])):b("",!0),e("button",{type:"submit",class:"w-full btn btn-primary",disabled:i(o).loading},[i(o).loading?(n(),l("div",z,s[4]||(s[4]=[e("svg",{class:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),h(" Signing in... ")]))):(n(),l("span",L,"Sign in"))],8,j)],32),s[6]||(s[6]=e("div",{class:"text-center"},[e("p",{class:"text-xs text-gray-500"}," Agent application for collecting survey responses ")],-1))])]))}};export{D as default};
